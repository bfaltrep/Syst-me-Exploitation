#ifdef CHANGED
#include "pageprovider.h"


PageProvider::PageProvider(int nitems, Machine * m)
{
	map = new BitMap(nitems);
	_machine = m;
}

PageProvider::~PageProvider()
{
	delete map;
}

int PageProvider::GetEmptyPage()
{
	int res = map->Find();
	if(res != -1){
		int physAddr = res* PageSize;
		memset((void *) _machine->mainMemory[physAddr],'0',PageSize);
	}
	return res;
}

void PageProvider::ReleasePage(int page)
{
	map->Clear(page);

}

int	PageProvider::NumAvailablePage()
{
	return map->NumClear ();
}

#endif // CHANGED