//pour executer cette commande
//./userprog/nachos -rs -x ./test/test_2_3

#include "syscall.h"

#define NULL 0

void fonction(void * i){

	int j = 0;
	(int)i;
	for (; j < i; ++j)
	{
		PutChar('a');
	}
	ThreadExit();
}

int main(int argc, char const *argv[])
{

	volatile int i = 5;
	int j = 0;
	/*
	nous voulons créer 4 threads qui vont produire 5 caractères chacun
	Nous attendons donc 20 caractères dans le terminal.
	OR, notre implémentation des threads ne permet 	à un processus 
	que de créer 3 threads processus fils : nous attendons donc 15 caractères.
	*/
	for(;j < 4 ; ++j){
		ThreadCreate(fonction, (void*)i);
	}

	ThreadExit();
	return 0;
}
